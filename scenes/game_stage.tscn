[gd_scene load_steps=6 format=2]

[ext_resource path="res://scenes/player.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/enemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://tilemap/game_map01.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/game_stage.gd" type="Script" id=4]

[sub_resource type="Theme" id=1]

[node name="game_stage" type="Node2D"]
script = ExtResource( 4 )

[node name="game_map01" parent="." instance=ExtResource( 3 )]
position = Vector2( -215, -107 )
collision_mask = 5

[node name="player" parent="." instance=ExtResource( 1 )]
position = Vector2( 11, 102 )

[node name="enemy" parent="." instance=ExtResource( 2 )]
position = Vector2( 604, 366 )

[node name="enemy2" parent="." instance=ExtResource( 2 )]
position = Vector2( 582, 49 )

[node name="enemy3" parent="." instance=ExtResource( 2 )]
position = Vector2( 653, 140 )

[node name="enemy4" parent="." instance=ExtResource( 2 )]
position = Vector2( 275, 409 )

[node name="enemy5" parent="." instance=ExtResource( 2 )]
position = Vector2( -300, 486 )

[node name="enemy6" parent="." instance=ExtResource( 2 )]
position = Vector2( 353, 54 )

[node name="enemy7" parent="." instance=ExtResource( 2 )]
position = Vector2( -370, 317 )

[node name="UI" type="CanvasLayer" parent="."]

[node name="scoreText" type="Label" parent="UI"]
margin_left = 39.0
margin_top = 46.0
margin_right = 84.0
margin_bottom = 60.0
text = "score:"
uppercase = true

[node name="value" type="Label" parent="UI/scoreText"]
margin_left = 47.0
margin_top = 1.0
margin_right = 87.0
margin_bottom = 15.0
text = "0"

[node name="lives_leftText" type="Label" parent="UI"]
margin_left = 909.0
margin_top = 50.0
margin_right = 979.0
margin_bottom = 64.0
text = "lives left:"
uppercase = true

[node name="value" type="Label" parent="UI/lives_leftText"]
margin_left = 74.0
margin_right = 114.0
margin_bottom = 14.0
text = "0"

[node name="game_overText" type="Label" parent="UI"]
margin_left = 481.0
margin_top = 280.0
margin_right = 567.0
margin_bottom = 294.0
theme = SubResource( 1 )
text = "-game over-"
uppercase = true

[node name="restartButton" type="Button" parent="UI"]
margin_left = 502.0
margin_top = 7.0
margin_right = 514.0
margin_bottom = 27.0
text = "RESTART"

[node name="BG" type="Sprite" parent="."]

[connection signal="on_player_damaged" from="player" to="." method="_on_player_on_player_damaged"]
[connection signal="died" from="enemy" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy2" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy3" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy4" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy5" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy6" to="." method="_on_enemy_died"]
[connection signal="died" from="enemy7" to="." method="_on_enemy_died"]
[connection signal="button_down" from="UI/restartButton" to="." method="_on_restartButton_button_down"]
